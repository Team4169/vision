from math import pi
import pickle

def load_data(file_path):
    with open(file_path, 'rb') as f:
        data = pickle.load(f)
        print(data)

def dump_data(data, file_path):
    with open(file_path, "wb") as f:
        pickle.dump(data, f)

DATA_FROM_2024 = [[0, 0, 0], [6.808597, -3.859403, 3.6651914291880923], [7.914259, -3.221609, 3.6651914291880923], [8.308467, 0.877443, 4.71238898038469], [8.308467, 1.442593, 4.71238898038469], [6.429883, 4.098925, 0.0], [-6.429375, 4.098925, 6.283185307179586], [-8.308975, 1.442593, 1.5707963267948966], [-8.308975, 0.877443, 1.5707963267948966], [-7.914767, -3.221609, 2.6179938779914944], [-6.809359, -3.859403, 2.6179938779914944], [3.633851, -0.392049, 6.8067840827778845], [3.633851, 0.393065, 2.6179938779914944], [2.949321, -0.000127, 4.71238898038469], [-2.950083, -0.000127, 1.5707963267948966], [-3.629533, 0.393065, 3.6651914291880923], [-3.629533, -0.392049, 5.759586531581287]] # from https://firstfrc.blob.core.windows.net/frc2024/FieldAssets/2024LayoutMarkingDiagram.pdf

RAW_2025 = """ID X Y Z Z-Rotation Y-Rotation
1 657.37 25.80 58.50 126 0
2 657.37 291.20 58.50 234 0
3 455.15 317.15 51.25 270 0
4 365.20 241.64 73.54 0 30
5 365.20 75.39 73.54 0 30
6 530.49 130.17 12.13 300 0
7 546.87 158.50 12.13 0 0
8 530.49 186.83 12.13 60 0
9 497.77 186.83 12.13 120 0
10 481.39 158.50 12.13 180 0
11 497.77 130.17 12.13 240 0
12 33.51 25.80 58.50 54 0
13 33.51 291.20 58.50 306 0
14 325.68 241.64 73.54 180 30
15 325.68 75.39 73.54 180 30
16 235.73 -0.15 51.25 90 0
17 160.39 130.17 12.13 240 0
18 144.00 158.50 12.13 180 0
19 160.39 186.83 12.13 120 0
20 193.10 186.83 12.13 60 0
21 209.49 158.50 12.13 0 0
22 193.10 130.17 12.13 300 0""" # from https://firstfrc.blob.core.windows.net/frc2025/FieldAssets/2025FieldDrawings-FieldLayoutAndMarking.pdf

DATA_FROM_2025_INCHES_DEGREES = data = [
    {"ID": 1, "X": 657.37, "Y": 25.80, "Z": 58.50, "Z-Rotation": 126, "Y-Rotation": 0},
    {"ID": 2, "X": 657.37, "Y": 291.20, "Z": 58.50, "Z-Rotation": 234, "Y-Rotation": 0},
    {"ID": 3, "X": 455.15, "Y": 317.15, "Z": 51.25, "Z-Rotation": 270, "Y-Rotation": 0},
    {"ID": 4, "X": 365.20, "Y": 241.64, "Z": 73.54, "Z-Rotation": 0, "Y-Rotation": 30},
    {"ID": 5, "X": 365.20, "Y": 75.39, "Z": 73.54, "Z-Rotation": 0, "Y-Rotation": 30},
    {"ID": 6, "X": 530.49, "Y": 130.17, "Z": 12.13, "Z-Rotation": 300, "Y-Rotation": 0},
    {"ID": 7, "X": 546.87, "Y": 158.50, "Z": 12.13, "Z-Rotation": 0, "Y-Rotation": 0},
    {"ID": 8, "X": 530.49, "Y": 186.83, "Z": 12.13, "Z-Rotation": 60, "Y-Rotation": 0},
    {"ID": 9, "X": 497.77, "Y": 186.83, "Z": 12.13, "Z-Rotation": 120, "Y-Rotation": 0},
    {"ID": 10, "X": 481.39, "Y": 158.50, "Z": 12.13, "Z-Rotation": 180, "Y-Rotation": 0},
    {"ID": 11, "X": 497.77, "Y": 130.17, "Z": 12.13, "Z-Rotation": 240, "Y-Rotation": 0},
    {"ID": 12, "X": 33.51, "Y": 25.80, "Z": 58.50, "Z-Rotation": 54, "Y-Rotation": 0},
    {"ID": 13, "X": 33.51, "Y": 291.20, "Z": 58.50, "Z-Rotation": 306, "Y-Rotation": 0},
    {"ID": 14, "X": 325.68, "Y": 241.64, "Z": 73.54, "Z-Rotation": 180, "Y-Rotation": 30},
    {"ID": 15, "X": 325.68, "Y": 75.39, "Z": 73.54, "Z-Rotation": 180, "Y-Rotation": 30},
    {"ID": 16, "X": 235.73, "Y": -0.15, "Z": 51.25, "Z-Rotation": 90, "Y-Rotation": 0},
    {"ID": 17, "X": 160.39, "Y": 130.17, "Z": 12.13, "Z-Rotation": 240, "Y-Rotation": 0},
    {"ID": 18, "X": 144.00, "Y": 158.50, "Z": 12.13, "Z-Rotation": 180, "Y-Rotation": 0},
    {"ID": 19, "X": 160.39, "Y": 186.83, "Z": 12.13, "Z-Rotation": 120, "Y-Rotation": 0},
    {"ID": 20, "X": 193.10, "Y": 186.83, "Z": 12.13, "Z-Rotation": 60, "Y-Rotation": 0},
    {"ID": 21, "X": 209.49, "Y": 158.50, "Z": 12.13, "Z-Rotation": 0, "Y-Rotation": 0},
    {"ID": 22, "X": 193.10, "Y": 130.17, "Z": 12.13, "Z-Rotation": 300, "Y-Rotation": 0}
]

def makeMeters():
    DATA_FROM_2025_METERS_RADIANS = []
    F = 1/39.3700787402 # conversion factor for inches to meters
    R = pi / 180 # conversion for degrees to radians
    DATA_FROM_2025_METERS_RADIANS.append({'ID': 0, 'X': 0, 'Y': 0, 'Z': 0, 'Z-Rotation': 0, 'Y-Rotation': 0})
    for tag in DATA_FROM_2025_INCHES_DEGREES:
        DATA_FROM_2025_METERS_RADIANS.append({"ID": tag["ID"], "X": tag["X"]*F, "Y": tag["Y"]*F, "Z": tag["Z"]*F, "Z-Rotation": tag["Z-Rotation"]*R, "Y-Rotation": tag["Y-Rotation"]*R})
    print(DATA_FROM_2025_METERS_RADIANS)

DATA_FROM_2025_METERS_RADIANS = [
    {'ID': 0, 'X': 0, 'Y': 0, 'Z': 0, 'Z-Rotation': 0, 'Y-Rotation': 0}, # Tag zero is used in the other code for indexing more cleanly.
    {'ID': 1, 'X': 16.697197999981967, 'Y': 0.6553199999992924, 'Z': 1.4858999999983953, 'Z-Rotation': 2.199114857512855, 'Y-Rotation': 0.0},
    {'ID': 2, 'X': 16.697197999981967, 'Y': 7.396479999992012, 'Z': 1.4858999999983953, 'Z-Rotation': 4.084070449666731, 'Y-Rotation': 0.0},
    {'ID': 3, 'X': 11.560809999987514, 'Y': 8.0556099999913, 'Z': 1.3017499999985942, 'Z-Rotation': 4.71238898038469, 'Y-Rotation': 0.0},
    {'ID': 4, 'X': 9.276079999989982, 'Y': 6.137655999993371, 'Z': 1.8679159999979829, 'Z-Rotation': 0.0, 'Y-Rotation': 0.5235987755982988},
    {'ID': 5, 'X': 9.276079999989982, 'Y': 1.914905999997932, 'Z': 1.8679159999979829, 'Z-Rotation': 0.0, 'Y-Rotation': 0.5235987755982988},
    {'ID': 6, 'X': 13.474445999985448, 'Y': 3.306317999996429, 'Z': 0.3081019999996673, 'Z-Rotation': 5.235987755982989, 'Y-Rotation': 0.0},
    {'ID': 7, 'X': 13.890497999985, 'Y': 4.025899999995652, 'Z': 0.3081019999996673, 'Z-Rotation': 0.0, 'Y-Rotation': 0.0},
    {'ID': 8, 'X': 13.474445999985448, 'Y': 4.745481999994875, 'Z': 0.3081019999996673, 'Z-Rotation': 1.0471975511965976, 'Y-Rotation': 0.0},
    {'ID': 9, 'X': 12.643357999986346, 'Y': 4.745481999994875, 'Z': 0.3081019999996673, 'Z-Rotation': 2.0943951023931953, 'Y-Rotation': 0.0},
    {'ID': 10, 'X': 12.227305999986795, 'Y': 4.025899999995652, 'Z': 0.3081019999996673, 'Z-Rotation': 3.141592653589793, 'Y-Rotation': 0.0},
    {'ID': 11, 'X': 12.643357999986346, 'Y': 3.306317999996429, 'Z': 0.3081019999996673, 'Z-Rotation': 4.1887902047863905, 'Y-Rotation': 0.0},
    {'ID': 12, 'X': 0.8511539999990807, 'Y': 0.6553199999992924, 'Z': 1.4858999999983953, 'Z-Rotation': 0.9424777960769379, 'Y-Rotation': 0.0},
    {'ID': 13, 'X': 0.8511539999990807, 'Y': 7.396479999992012, 'Z': 1.4858999999983953, 'Z-Rotation': 5.340707511102648, 'Y-Rotation': 0.0},
    {'ID': 14, 'X': 8.272271999991066, 'Y': 6.137655999993371, 'Z': 1.8679159999979829, 'Z-Rotation': 3.141592653589793, 'Y-Rotation': 0.5235987755982988},
    {'ID': 15, 'X': 8.272271999991066, 'Y': 1.914905999997932, 'Z': 1.8679159999979829, 'Z-Rotation': 3.141592653589793, 'Y-Rotation': 0.5235987755982988},
    {'ID': 16, 'X': 5.9875419999935335, 'Y': -0.0038099999999958853, 'Z': 1.3017499999985942, 'Z-Rotation': 1.5707963267948966, 'Y-Rotation': 0.0},
    {'ID': 17, 'X': 4.0739059999956, 'Y': 3.306317999996429, 'Z': 0.3081019999996673, 'Z-Rotation': 4.1887902047863905, 'Y-Rotation': 0.0},
    {'ID': 18, 'X': 3.65759999999605, 'Y': 4.025899999995652, 'Z': 0.3081019999996673, 'Z-Rotation': 3.141592653589793, 'Y-Rotation': 0.0},
    {'ID': 19, 'X': 4.0739059999956, 'Y': 4.745481999994875, 'Z': 0.3081019999996673, 'Z-Rotation': 2.0943951023931953, 'Y-Rotation': 0.0},
    {'ID': 20, 'X': 4.904739999994703, 'Y': 4.745481999994875, 'Z': 0.3081019999996673, 'Z-Rotation': 1.0471975511965976, 'Y-Rotation': 0.0},
    {'ID': 21, 'X': 5.321045999994253, 'Y': 4.025899999995652, 'Z': 0.3081019999996673, 'Z-Rotation': 0.0, 'Y-Rotation': 0.0},
    {'ID': 22, 'X': 4.904739999994703, 'Y': 3.306317999996429, 'Z': 0.3081019999996673, 'Z-Rotation': 5.235987755982989, 'Y-Rotation': 0.0}
]

###
# 1 -> Load Data
# 2 -> Dump Data
MODE = 2
FILE_PATH = "/home/robotics4169/vision/apriltags/maps/fieldTagsConfig_2025.pkl"
###


if MODE == 1:
    load_data(FILE_PATH)
elif MODE == 2:
    dump_data(DATA_FROM_2025_METERS_RADIANS, FILE_PATH)



